## 线程

### 线程生命周期

* 线程的状态

  线程的状态:也就是线程从生到死的过程，以及中间经历的各种状态及状态转换。

  理解线程的状态有利于提升并发编程的理解能力。

* Java线程的状态

  Java总共定义了6种状态

  6种状态都定义在Thread类的内部枚举类中。

```java
public class Thread {
    ...
    public enum State {
        NEW,  // 新建
        RUNNABLE, // 可运行
        BLOCKED, // 阻塞
        WAITING, // 无限等待
        TIMED_WAITING, // 计时等待
        TERMINATER; // 终止
    }
    ...
}
```

![image-20220813171746625](assets/image-20220813171746625.png)

![image-20220813171822471](assets/image-20220813171822471.png)

### 线程池

#### 临时线程什么时候创建

新任务提交时发现核心线程都在忙，任务队列也满了，并且还可以创建临时线程，此时才会创建临时线程。

#### 什么时候会开始拒绝任务

核心线程和临时线程都在忙，任务队列也满了，新的任务过来的时候才会开始任务拒绝

## 其他

### 并发和并行

* 并发与并行

​	正在运行的程序（软件）就是一个独立的进程，线程是属于进程的，多个线程其实是并发与并行同时进行的。

* 并发的理解:

  * CPU同时处理线程的数量有限。

  * CPU会轮询为系统的每个线程服务，由于CPU切换的速度很快，给我们的感觉这些线程在同时执行，这就是并发。

* 并行的理解:
  * 在同一个时刻上，同时有多个线程在被CPU处理并执行。

* 简单说说并发和并行的含义：
  * 并发:CPU分时轮询的执行线程。
  * 并行:同一个时刻同时在执行。

